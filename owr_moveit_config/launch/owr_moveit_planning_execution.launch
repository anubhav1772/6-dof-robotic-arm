<launch>

	<!-- By default, we are not in debug mode -->
	<arg	name="debug"	default="false" />
	<arg 	name="mode"		default="true"	doc="true if simulation else false for real robot"/>
  	<arg	name="config"	default="true"	/>
	<!-- <arg 	name="use_gui" default="true" /> -->
	<arg	name="load_robot_description"	default="true" />

	<rosparam command="load" file="$(find owr_moveit_config)/config/owr_jog.yaml"/>
	
	<!-- We do not have a robot connected, so publish fake joint states -->
	<!-- https://answers.ros.org/question/252114/failed-to-validate-trajectory-couldnt-receive-full-current-joint-state-within-1s-error/ -->
	<!-- <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
		<param name="use_gui" value="$(arg use_gui)"/>
		<rosparam param="source_list">["/joint_states"]</rosparam>
	</node> -->

	<!-- Given the published joint states, publish tf for the robot links -->
	<node	name="robot_state_publisher"	pkg="robot_state_publisher"	type="robot_state_publisher" respawn="true" output="screen" />

	<!-- Launch moveit -->
	<include	file="$(find owr_moveit_config)/launch/move_group.launch">
		<arg 	name="mode"	value="$(arg mode)" />
    	<arg 	name="debug"	value="$(arg debug)" />
    	<arg 	name="load_robot_description"	value="$(arg load_robot_description)" />
	</include>

	<!-- Launch rviz-->
	<include	file="$(find owr_moveit_config)/launch/moveit_rviz.launch">
		<!--<arg 	name="mode"	value="$(arg mode)" />-->
    	<arg	name="config"	value="$(arg config)"/>
    	<arg	name="debug"	value="$(arg debug)"/>
  	</include>
	  
</launch>